<project name="Eyekabob" default="all" basedir=".">
    <description>
        Copy the Eyekabob src files in the respective platform directories
    </description>
    <!-- set global properties for this build -->
    <property name="src" location="src"/>
    <property name="lib" location="lib"/>

    <!-- Extraneous target, calls copy-files. -->
    <target name="all" depends="copy-files">
    </target>

    <target name="init" depends="android-init, ios-init">
    </target>

    <target name="copy-files" depends="android-copy-files, ios-copy-files">
    </target>

    <target name="android" depends="android-copy-files">
        <ant antfile="Android/build.xml" target="clean" inheritall="false"/>
        <ant antfile="Android/build.xml" target="debug" inheritall="false"/>
    </target>

    <target name="clean" depends="android-clean, ios-clean">
    </target>

    <target name="android-init" depends="android-clean">
        <mkdir dir="Android/assets/www"/>
        <mkdir dir="Android/assets/www/jquery"/>
        <mkdir dir="Android/assets/www/phonegap"/>
    </target>

    <target name="android-copy-files" depends="android-init">
        <copy todir="Android/assets/www">
            <fileset dir="${src}">
            </fileset>
        </copy>
        <copy todir="Android/assets/www/jquery">
            <fileset dir="${lib}/jquery" excludes="**/demos/*">
            </fileset>
        </copy>
        <copy todir="Android/assets/www/phonegap">
            <fileset dir="${lib}/phonegap/Android">
                <exclude name="**/Sample/*"/>
                <exclude name="**/xml/*"/>
                <include name="*.js"/>
            </fileset>
        </copy>
    </target>

    <target name="android-clean">
        <delete dir="Android/assets/www"/>
    </target>

    <target name="ios-init" depends="ios-clean">
        <mkdir dir="iOS/Eyekabob/www"/>
    </target>

    <target name="ios-copy-files" depends="ios-init">
        <copy todir="iOS/Eyekabob/www">
            <fileset dir="${src}">
            </fileset>
        </copy>
    </target>

    <target name="ios-clean">
        <delete dir="iOS/Eyekabob/www"/>
    </target>
</project>
